(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[3,4],{59:function(e,t,n){"use strict";function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(c=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);c=!0);}catch(s){r=!0,o=s}finally{try{c||null==i.return||i.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return r}))},60:function(e,t,n){e.exports={listItem:"MoviesList_listItem__3YwUE"}},61:function(e,t,n){e.exports={container:"MovieCard_container__30ukc",img:"MovieCard_img__1hQiG",description:"MovieCard_description__38hMU"}},62:function(e,t,n){},63:function(e,t,n){e.exports={container:"MovieDetailsPage_container__2RTKY"}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(3),r=n(10),o=n(60),a=n.n(o),i=n(1);var s=function(e){var t=e.movies;console.log(t);var n=Object(c.g)();return console.log(n),Object(i.jsx)(i.Fragment,{children:t&&Object(i.jsx)("ul",{className:a.a.list,children:t.map((function(e){return Object(i.jsx)("li",{className:a.a.listItem,children:Object(i.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}},className:a.a.listItem,children:e.title?e.title:e.name})},e.id)}))})})}},66:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var c=n(59),r=n(0),o=n(3),a=n(16),i=n(61),s=n.n(i),l=n(1);var u=function(e){var t=e.movie,n=t.poster_path,c=t.title,r=t.release_date,o=t.vote_average,a=t.overview,i=t.genres;console.log(t);var u="https://image.tmdb.org/t/p/w500".concat(n);return Object(l.jsxs)("div",{className:s.a.container,children:[Object(l.jsx)("img",{className:s.a.img,src:u,alt:c,height:"400",width:"300"}),Object(l.jsxs)("div",{className:s.a.description,children:[Object(l.jsxs)("h2",{children:[c,"(",r?r.split("-")[0]:"",")"]}),Object(l.jsxs)("p",{children:["User Score: ",10*o,"%"]}),Object(l.jsx)("h3",{children:"Overview"}),Object(l.jsx)("p",{children:a}),Object(l.jsx)("h3",{children:"Genres"}),Object(l.jsx)("ul",{children:i&&i.map((function(e){var t=e.id,n=e.name;return Object(l.jsx)("li",{children:n},t)}))})]})]})},j=n(10),b=n(17),h=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,70))})),O=Object(r.lazy)((function(){return n.e(9).then(n.bind(null,71))}));var f=function(e){var t=e.path,n=e.url;return console.log(n),console.log(t),Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:"Additional information"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(j.b,{to:"".concat(n,"/cast"),children:"Cast"})}),Object(l.jsx)("li",{children:Object(l.jsx)(j.b,{to:"".concat(n,"/reviews"),children:"Reviews"})})]}),Object(l.jsx)(r.Suspense,{fallback:Object(l.jsx)(b.a,{}),children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/".concat(t,"/cast"),children:Object(l.jsx)(h,{})}),Object(l.jsx)(o.a,{path:"".concat(t,"/reviews"),children:Object(l.jsx)(O,{})})]})})]})};n(62);function v(e){var t=e.title,n=e.onGoDack;return Object(l.jsx)("button",{type:"button",onClick:n,children:t})}var d=n(63),m=n.n(d);var p=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)(""),j=Object(c.a)(s,2),h=j[0],O=j[1],d=Object(r.useState)(!1),p=Object(c.a)(d,2),g=p[0],x=p[1],y=Object(o.f)();console.log(y);var S=Object(o.g)(),_=Object(o.h)().movieId;console.log(_);var w=Object(o.i)(),N=w.url,P=w.path;return console.log(N),console.log(P),console.log(Object(o.i)()),Object(r.useEffect)((function(){x(!0),a.a.fetchMovieDetails(_).then((function(e){return i(e)})).catch((function(e){return O(e)})).finally((function(){return x(!1)}))}),[_]),console.log(n),console.log(h),console.log("/movies/".concat(_,"/cast")==="".concat(N,"/cast")),console.log("".concat(P,"/cast")),console.log("".concat(N,"/cast")),!1===n.success&&i(""),Object(l.jsxs)(l.Fragment,{children:[g&&Object(l.jsx)(b.a,{}),n&&Object(l.jsxs)("div",{className:m.a.container,children:[Object(l.jsx)(v,{title:"Go back",onGoDack:function(){var e,t;y.push(null!==(e=null===S||void 0===S||null===(t=S.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")}}),Object(l.jsx)(u,{movie:n}),Object(l.jsx)(f,{path:P,url:N})]}),!n&&!g&&"No movie description.",Object(l.jsx)("hr",{})]})}},68:function(e,t,n){e.exports={container:"MoviesPage_container__1Gl_Y"}},69:function(e,t,n){e.exports={SearchFormInput:"Searchbar_SearchFormInput__3RgKO",SearchFormButton:"Searchbar_SearchFormButton__XKy5e"}},72:function(e,t,n){"use strict";function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,"default",(function(){return m}));var a=n(59),i=n(0),s=n(3),l=n(68),u=n.n(l),j=n(16),b=n(69),h=n.n(b),O=n(1);var f=function(e){var t=e.onSubmit,n=Object(i.useState)(""),c=Object(a.a)(n,2),r=c[0],o=c[1];return console.log(r),Object(O.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")},children:[Object(O.jsx)("input",{className:h.a.SearchFormInput,type:"text",name:"search",value:r,autoComplete:"off",onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(O.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(O.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})})]})},v=n(65),d=n(17);n(66);var m=function(){var e=Object(s.g)();console.log(e.search);var t=new URLSearchParams(e.search).get("query");console.log(t);var n=null!==t?t:"",c=Object(i.useState)(n),r=Object(a.a)(c,2),l=r[0],b=r[1],h=Object(i.useState)([]),m=Object(a.a)(h,2),p=m[0],g=m[1],x=Object(i.useState)(""),y=Object(a.a)(x,2),S=(y[0],y[1]),_=Object(i.useState)(!1),w=Object(a.a)(_,2),N=w[0],P=w[1];console.log(l);var k=Object(s.f)();return console.log(k),Object(i.useEffect)((function(){""!==l||t?(console.log(l),P(!0),j.a.fetchMovies(l).then((function(e){var t=e.results;return g(t)})).catch((function(e){return S(e)})).finally((function(){return P(!1)})),k.push(o(o({},e),{},{search:"query=".concat(l)}))):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")}),[t,l]),console.log(p),Object(O.jsxs)("div",{className:u.a.container,children:[Object(O.jsx)(f,{onSubmit:function(e){b(e)}}),N&&Object(O.jsx)(d.a,{}),p&&!N&&Object(O.jsx)(v.a,{movies:p})]})}}}]);
//# sourceMappingURL=3.265d284f.chunk.js.map