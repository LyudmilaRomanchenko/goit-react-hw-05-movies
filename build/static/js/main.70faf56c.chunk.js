(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],[,,,,,,,,,,,function(e,t,c){e.exports={link:"Navigation_link__2rvYr",activeLink:"Navigation_activeLink__1h_CJ",nav:"Navigation_nav__2rMWv"}},,,function(e,t,c){e.exports={SearchFormInput:"Searchbar_SearchFormInput__3RgKO",SearchFormButton:"Searchbar_SearchFormButton__XKy5e"}},function(e,t,c){e.exports={listItem:"MoviesList_listItem__3YwUE"}},function(e,t,c){e.exports={container:"MovieCard_container__30ukc",img:"MovieCard_img__1hQiG",description:"MovieCard_description__38hMU"}},function(e,t,c){e.exports={img:"Cast_img__P5C6O",item:"Cast_item__720iQ",description:"Cast_description__3i4PU"}},,,,,,,function(e,t,c){e.exports={container:"Container_container__ienhj"}},,,function(e,t,c){e.exports={header:"AppBar_header__2SQ7H"}},function(e,t,c){e.exports={title:"HomePage_title__SSVdJ"}},function(e,t,c){e.exports={container:"MoviesPage_container__1Gl_Y"}},function(e,t,c){e.exports={container:"MovieDetailsPage_container__2RTKY"}},,,,,function(e,t,c){},,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(23),o=c.n(r),s=c(5),i=(c(35),c(2)),l=c(24),u=c.n(l),j=c(0);function h(e){var t=e.children;return Object(j.jsx)("div",{className:u.a.container,children:t})}var b=c(11),v=c.n(b),d=function(){return Object(j.jsxs)("nav",{className:v.a.nav,children:[Object(j.jsx)(s.b,{exact:!0,to:"/",className:v.a.link,activeClassName:v.a.activeLink,children:"Home"}),Object(j.jsx)(s.b,{to:"/movies",className:v.a.link,activeClassName:v.a.activeLink,children:"Movies"})]})},O=c(27),f=c.n(O);function p(){return Object(j.jsx)("header",{className:f.a.header,children:Object(j.jsx)(d,{})})}var m=c(4),x=c(15),g=c.n(x);var _=function(e){var t=e.movies;console.log(t);var c=Object(i.g)();return console.log(c),Object(j.jsx)(j.Fragment,{children:t&&Object(j.jsx)("ul",{className:g.a.list,children:t.map((function(e){return Object(j.jsx)("li",{className:g.a.listItem,children:Object(j.jsx)(s.b,{to:{pathname:"/movies/".concat(e.id),state:{from:c}},className:g.a.listItem,children:e.title?e.title:e.name})},e.id)}))})})},S=c(9),w=c.n(S),k=c(12),N="cdc3559cea174c9b75b98956c9a389b5",y="https://api.themoviedb.org",C="".concat(y,"/3/trending/all/day?api_key=").concat(N);function M(){return(M=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(k.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(y,"/3/search/movie?api_key=").concat(N,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(k.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(y,"/3/movie/").concat(t,"?api_key=").concat(N,"&language=en-US"),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(k.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(y,"/3/movie/").concat(t,"/credits?api_key=").concat(N,"&language=en-US"),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(k.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(y,"/3/movie/").concat(t,"/reviews?api_key=").concat(N,"&language=en-US&page=1"),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E={fetchTrending:function(){return M.apply(this,arguments)},fetchMovies:function(e){return I.apply(this,arguments)},fetchMovieDetails:function(e){return F.apply(this,arguments)},fetchMovieCredits:function(e){return U.apply(this,arguments)},fetchMovieReviews:function(e){return L.apply(this,arguments)}},B=E,D=c(28),G=c.n(D);var P=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),o=Object(m.a)(r,2),s=(o[0],o[1]);return Object(n.useEffect)((function(){B.fetchTrending().then((function(e){var t=e.results;return a(t)})).catch((function(e){return s(e)}))}),[]),console.log(c),Object(j.jsx)("div",{children:c&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:G.a.title,children:"Trending today"}),Object(j.jsx)(_,{movies:c})]})})},R=c(21),T=c(29),J=c.n(T),Y=c(14),q=c.n(Y);var A=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(m.a)(c,2),r=a[0],o=a[1];return console.log(r),Object(j.jsxs)("form",{className:q.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")},children:[Object(j.jsx)("input",{className:q.a.SearchFormInput,type:"text",name:"search",value:r,autoComplete:"off",onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(j.jsx)("button",{type:"submit",className:q.a.SearchFormButton,children:Object(j.jsx)("span",{className:q.a.SearchFormButtonLabel,children:"Search"})})]})};var H=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),o=Object(m.a)(r,2),s=o[0],l=o[1],u=Object(n.useState)(""),h=Object(m.a)(u,2),b=(h[0],h[1]),v=Object(i.f)();console.log(v);var d=Object(i.g)();console.log(d.search);var O=new URLSearchParams(d.search).get("query");return console.log(O),Object(n.useEffect)((function(){""!==c||O?(console.log(c),O&&a(O),B.fetchMovies(c).then((function(e){var t=e.results;return l(t)})).catch((function(e){return b(e)})),v.push(Object(R.a)(Object(R.a)({},d),{},{search:"query=".concat(c)}))):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")}),[c,O]),console.log(s),Object(j.jsxs)("div",{className:J.a.container,children:[Object(j.jsx)(A,{onSubmit:function(e){a(e)}}),s&&Object(j.jsx)(_,{movies:s})]})},K=c(16),Q=c.n(K);var W=function(e){var t=e.movie,c=t.poster_path,n=t.title,a=t.release_date,r=t.vote_average,o=t.overview,s=t.genres;console.log(t);var i="https://image.tmdb.org/t/p/w500".concat(c);return Object(j.jsxs)("div",{className:Q.a.container,children:[Object(j.jsx)("img",{className:Q.a.img,src:i,alt:n}),Object(j.jsxs)("div",{className:Q.a.description,children:[Object(j.jsxs)("h2",{children:[n,"(",a?a.split("-")[0]:"",")"]}),Object(j.jsxs)("p",{children:["User Score: ",10*r,"%"]}),Object(j.jsx)("h3",{children:"Overview"}),Object(j.jsx)("p",{children:o}),Object(j.jsx)("h3",{children:"Genres"}),Object(j.jsx)("ul",{children:s&&s.map((function(e){var t=e.id,c=e.name;return Object(j.jsx)("li",{children:c},t)}))})]})]})},V=c(17),X=c.n(V);var z=function(){var e=Object(i.h)().movieId;console.log(e),console.log(e);var t=Object(n.useState)(""),c=Object(m.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),l=(s[0],s[1]);Object(n.useEffect)((function(){B.fetchMovieCredits(e).then((function(e){return r(e)})).catch((function(e){return l(e)}))}),[e]),console.log(a);var u=a.cast;return console.log(u),Object(j.jsx)("div",{children:u&&Object(j.jsx)("ul",{children:u.map((function(e){var t=e.id,c=e.name,n=e.character,a=e.profile_path;return Object(j.jsxs)("li",{className:X.a.item,children:[Object(j.jsx)("img",{className:X.a.img,src:"".concat("https://image.tmdb.org/t/p/w500").concat(a),alt:c}),Object(j.jsxs)("p",{className:X.a.description,children:[Object(j.jsx)("p",{children:c}),Object(j.jsxs)("p",{children:["Character: ",n]})]})]},t)}))})})};var Z=function(){var e=Object(i.h)().movieId;console.log(e),console.log(e);var t=Object(n.useState)(""),c=Object(m.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),l=(s[0],s[1]);Object(n.useEffect)((function(){B.fetchMovieReviews(e).then((function(e){return r(e)})).catch((function(e){return l(e)}))}),[e]),console.log(a);var u=a.results;return console.log(u),Object(j.jsxs)("div",{children:[a&&Object(j.jsx)("ul",{children:u.map((function(e){var t=e.id,c=e.author,n=e.content;return Object(j.jsxs)("li",{children:[Object(j.jsxs)("h4",{children:["Author: ",c]}),Object(j.jsx)("p",{children:n})]},t)}))}),!a&&Object(j.jsx)("h3",{children:"We don't have any reviews for this movie."})]})};var $=function(e){var t=e.path,c=e.url;return console.log(c),console.log(t),Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Additional information"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"".concat(c,"/cast"),children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"".concat(c,"/reviews"),children:"Reviews"})})]}),Object(j.jsx)(i.a,{path:"".concat(t,"/cast"),children:Object(j.jsx)(z,{})}),Object(j.jsx)(i.a,{path:"".concat(t,"/reviews"),children:Object(j.jsx)(Z,{})})]})};c(43);function ee(e){var t=e.title,c=e.onGoDack;return Object(j.jsx)("button",{type:"button",onClick:c,children:t})}var te=c(30),ce=c.n(te);var ne=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),o=Object(m.a)(r,2),s=o[0],l=o[1],u=Object(i.f)();console.log(u);var h=Object(i.g)();console.log(h.state.from);var b=Object(i.h)().movieId;console.log(b);var v=Object(i.i)(),d=v.url,O=v.path;return console.log(d),console.log(O),console.log(Object(i.i)()),Object(n.useEffect)((function(){B.fetchMovieDetails(b).then((function(e){return a(e)})).catch((function(e){return l(e)}))}),[b]),console.log(c),console.log(s),console.log("/movies/".concat(b,"/cast")==="".concat(d,"/cast")),console.log("".concat(O,"/cast")),console.log("".concat(d,"/cast")),!1===c.success&&a(""),Object(j.jsxs)(j.Fragment,{children:[c?Object(j.jsxs)("div",{className:ce.a.container,children:[Object(j.jsx)(ee,{title:"Go back",onGoDack:function(){var e,t;u.push(null!==(e=null===h||void 0===h||null===(t=h.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")}}),Object(j.jsx)(W,{movie:c}),Object(j.jsx)($,{path:O,url:d})]}):"No movie description.",Object(j.jsx)("hr",{})]})};c(44);var ae=function(){return console.log(B.fetchTrending().then((function(e){return e})).then((function(e){return e}))),Object(j.jsxs)(h,{children:[Object(j.jsx)(p,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",exact:!0,children:Object(j.jsx)(P,{})}),Object(j.jsx)(i.a,{path:"/movies",exact:!0,children:Object(j.jsx)(H,{})}),Object(j.jsx)(i.a,{path:"/movies/:movieId",exact:!0,children:Object(j.jsx)(ne,{})}),Object(j.jsx)(i.a,{path:"/movies/:movieId/cast",children:Object(j.jsx)(z,{})}),Object(j.jsx)(i.a,{path:"/movies/:movieId/reviews",children:Object(j.jsx)(Z,{})})]})]})};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(ae,{})})}),document.getElementById("root"))}],[[45,1,2]]]);
//# sourceMappingURL=main.70faf56c.chunk.js.map