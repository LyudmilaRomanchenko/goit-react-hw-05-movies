(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[3],{61:function(e,t,c){e.exports={listItem:"MoviesList_listItem__3YwUE"}},62:function(e,t,c){e.exports={container:"MovieCard_container__30ukc",img:"MovieCard_img__1hQiG",description:"MovieCard_description__38hMU"}},63:function(e,t,c){e.exports={container:"MovieDetailsPage_container__2RTKY"}},64:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(3),o=c(10),a=c(2),r=c.n(a),s=c(61),i=c.n(s),l=c(1);function u(e){var t=e.movies;console.log(t);var c=Object(n.g)();return console.log(c),Object(l.jsx)(l.Fragment,{children:t&&Object(l.jsx)("ul",{className:i.a.list,children:t.map((function(e){return Object(l.jsx)("li",{className:i.a.listItem,children:Object(l.jsx)(o.b,{to:{pathname:"/movies/".concat(e.id),state:{from:c}},className:i.a.listItem,children:e.title?e.title:e.name})},e.id)}))})})}var j=u;u.prototype={movies:r.a.array.isRequired}},65:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return y}));var n=c(60),o=c(0),a=c(3),r=c(18),s=c(2),i=c.n(s),l=c(62),u=c.n(l),j=c.p+"static/media/default_movie_img.e4529e8b.jpg",b=c(1);function h(e){var t=e.movie,c=t.poster_path,n=t.title,o=t.release_date,a=t.vote_average,r=t.overview,s=t.genres;console.log("".concat(c));var i="https://image.tmdb.org/t/p/w500".concat(c);return Object(b.jsxs)("div",{className:u.a.container,children:[c?Object(b.jsx)("img",{className:u.a.img,src:i,alt:n,height:"400",width:"300"}):Object(b.jsx)("img",{className:u.a.img,src:j,alt:n,height:"400",width:"300"}),Object(b.jsxs)("div",{className:u.a.description,children:[Object(b.jsxs)("h2",{children:[n,"(",o?o.split("-")[0]:"",")"]}),Object(b.jsxs)("p",{children:["User Score: ",10*a,"%"]}),Object(b.jsx)("h3",{children:"Overview"}),Object(b.jsx)("p",{children:r}),Object(b.jsx)("h3",{children:"Genres"}),Object(b.jsx)("ul",{children:s&&s.map((function(e){var t=e.id,c=e.name;return Object(b.jsx)("li",{children:c},t)}))})]})]})}var O=h;h.prototype={movies:i.a.object.isRequired};var d=c(10),v=c(17),m=Object(o.lazy)((function(){return c.e(7).then(c.bind(null,73))})),g=Object(o.lazy)((function(){return c.e(8).then(c.bind(null,75))}));function p(e){var t=e.path,c=e.url;return console.log(c),console.log(t),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{to:"".concat(c,"/cast"),children:"Cast"})}),Object(b.jsx)("li",{children:Object(b.jsx)(d.b,{to:"".concat(c,"/reviews"),children:"Reviews"})})]}),Object(b.jsx)(o.Suspense,{fallback:Object(b.jsx)(v.a,{}),children:Object(b.jsxs)(a.c,{children:[Object(b.jsx)(a.a,{path:"".concat(t,"/cast"),children:Object(b.jsx)(m,{})}),Object(b.jsx)(a.a,{path:"".concat(t,"/reviews"),children:Object(b.jsx)(g,{})})]})})]})}var f=p;function x(e){var t=e.title,c=e.onGoDack;return Object(b.jsx)("button",{type:"button",onClick:c,children:t})}p.prototype={path:i.a.string.isRequired,url:i.a.string.isRequired},x.prototype={title:i.a.string.isRequired,onGoDack:i.a.func.isRequired};var _=c(63),S=c.n(_);var y=function(){var e=Object(o.useState)(""),t=Object(n.a)(e,2),c=t[0],s=t[1],i=Object(o.useState)(""),l=Object(n.a)(i,2),u=l[0],j=l[1],h=Object(o.useState)(!1),d=Object(n.a)(h,2),m=d[0],g=d[1],p=Object(a.f)();console.log(p);var _=Object(a.g)(),y=Object(a.h)().movieId;console.log(y);var w=Object(a.i)(),N=w.url,k=w.path;return console.log(N),console.log(k),console.log(Object(a.i)()),Object(o.useEffect)((function(){g(!0),r.a.fetchMovieDetails(y).then((function(e){return s(e)})).catch((function(e){return j(e)})).finally((function(){return g(!1)}))}),[y]),console.log(c),console.log(u),console.log("/movies/".concat(y,"/cast")==="".concat(N,"/cast")),console.log("".concat(k,"/cast")),console.log("".concat(N,"/cast")),!1===c.success&&s(""),Object(b.jsxs)(b.Fragment,{children:[u&&u.message,m&&Object(b.jsx)(v.a,{}),c&&Object(b.jsxs)("div",{className:S.a.container,children:[Object(b.jsx)(x,{title:"Go back",onGoDack:function(){var e,t;p.push(null!==(e=null===_||void 0===_||null===(t=_.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")}}),Object(b.jsx)(O,{movie:c}),Object(b.jsx)(f,{path:k,url:N})]}),Object(b.jsx)("hr",{})]})}},67:function(e,t,c){e.exports={container:"MoviesPage_container__1Gl_Y"}},68:function(e,t,c){e.exports={SearchFormInput:"Searchbar_SearchFormInput__3RgKO",SearchFormButton:"Searchbar_SearchFormButton__XKy5e"}},72:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return f}));var n=c(71),o=c(60),a=c(0),r=c(3),s=c(19),i=c(67),l=c.n(i),u=c(18),j=c(2),b=c.n(j),h=c(68),O=c.n(h),d=(c(69),c(1));function v(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(o.a)(c,2),r=n[0],i=n[1];console.log(r);return Object(d.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430"),Object(s.b)("Enter your request!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});t(r),i("")},children:[Object(d.jsx)("input",{className:O.a.SearchFormInput,type:"text",name:"search",value:r,autoComplete:"off",onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),Object(d.jsx)("button",{type:"submit",className:O.a.SearchFormButton,children:Object(d.jsx)("span",{className:O.a.SearchFormButtonLabel,children:"Search"})})]})}var m=v;v.prototype={onSubmit:b.a.func.isRequired};var g=c(64),p=c(17);c(65);var f=function(){var e=Object(r.g)();console.log(e.search);var t=new URLSearchParams(e.search).get("query");console.log(t);var c=null!==t?t:"",s=Object(a.useState)(c),i=Object(o.a)(s,2),j=i[0],b=i[1],h=Object(a.useState)([]),O=Object(o.a)(h,2),v=O[0],f=O[1],x=Object(a.useState)(""),_=Object(o.a)(x,2),S=(_[0],_[1]),y=Object(a.useState)(!1),w=Object(o.a)(y,2),N=w[0],k=w[1];console.log(j);var R=Object(r.f)();return console.log(R),Object(a.useEffect)((function(){""!==j||t?(console.log(j),k(!0),u.a.fetchMovies(j).then((function(e){var t=e.results;return f(t)})).catch((function(e){return S(e)})).finally((function(){return k(!1)})),R.push(Object(n.a)(Object(n.a)({},e),{},{search:"query=".concat(j)}))):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")}),[t,j]),console.log(v),Object(d.jsxs)("div",{className:l.a.container,children:[Object(d.jsx)(m,{onSubmit:function(e){b(e)}}),N&&Object(d.jsx)(p.a,{}),v&&!N&&Object(d.jsx)(g.a,{movies:v})]})}}}]);
//# sourceMappingURL=3.ecd0cde3.chunk.js.map