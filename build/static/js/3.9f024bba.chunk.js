(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[3,5],{60:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){c=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return c}))},61:function(e,t,n){e.exports={listItem:"MoviesList_listItem__3YwUE"}},62:function(e,t,n){e.exports={container:"MovieCard_container__30ukc",img:"MovieCard_img__1hQiG",description:"MovieCard_description__38hMU"}},63:function(e,t,n){e.exports={container:"MovieDetailsPage_container__2RTKY"}},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),c=n(10),o=n(2),a=n.n(o),i=n(61),s=n.n(i),l=n(1);function u(e){var t=e.movies;console.log(t);var n=Object(r.g)();return console.log(n),Object(l.jsx)(l.Fragment,{children:t&&Object(l.jsx)("ul",{className:s.a.list,children:t.map((function(e){return Object(l.jsx)("li",{className:s.a.listItem,children:Object(l.jsx)(c.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}},className:s.a.listItem,children:e.title?e.title:e.name})},e.id)}))})})}var j=u;u.prototype={movies:a.a.array.isRequired}},65:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var r=n(60),c=n(0),o=n(3),a=n(18),i=n(2),s=n.n(i),l=n(62),u=n.n(l),j=n.p+"static/media/default_movie_img.e4529e8b.jpg",b=n(1);function h(e){var t=e.movie,n=t.poster_path,r=t.title,c=t.release_date,o=t.vote_average,a=t.overview,i=t.genres;console.log("".concat(n));var s="https://image.tmdb.org/t/p/w500".concat(n);return Object(b.jsxs)("div",{className:u.a.container,children:[n?Object(b.jsx)("img",{className:u.a.img,src:s,alt:r,height:"400",width:"300"}):Object(b.jsx)("img",{className:u.a.img,src:j,alt:r,height:"400",width:"300"}),Object(b.jsxs)("div",{className:u.a.description,children:[Object(b.jsxs)("h2",{children:[r,"(",c?c.split("-")[0]:"",")"]}),Object(b.jsxs)("p",{children:["User Score: ",10*o,"%"]}),Object(b.jsx)("h3",{children:"Overview"}),Object(b.jsx)("p",{children:a}),Object(b.jsx)("h3",{children:"Genres"}),Object(b.jsx)("ul",{children:i&&i.map((function(e){var t=e.id,n=e.name;return Object(b.jsx)("li",{children:n},t)}))})]})]})}var O=h;h.prototype={movies:s.a.object.isRequired};var f=n(10),d=n(17),v=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,71))})),p=Object(c.lazy)((function(){return n.e(7).then(n.bind(null,73))}));function m(e){var t=e.path,n=e.url;return console.log(n),console.log(t),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"".concat(n,"/cast"),children:"Cast"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"".concat(n,"/reviews"),children:"Reviews"})})]}),Object(b.jsx)(c.Suspense,{fallback:Object(b.jsx)(d.a,{}),children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"".concat(t,"/cast"),children:Object(b.jsx)(v,{})}),Object(b.jsx)(o.a,{path:"".concat(t,"/reviews"),children:Object(b.jsx)(p,{})})]})})]})}var g=m;function x(e){var t=e.title,n=e.onGoDack;return Object(b.jsx)("button",{type:"button",onClick:n,children:t})}m.prototype={path:s.a.string.isRequired,url:s.a.string.isRequired},x.prototype={title:s.a.string.isRequired,onGoDack:s.a.func.isRequired};var y=n(63),S=n.n(y);var _=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(""),l=Object(r.a)(s,2),u=l[0],j=l[1],h=Object(c.useState)(!1),f=Object(r.a)(h,2),v=f[0],p=f[1],m=Object(o.f)();console.log(m);var y=Object(o.g)(),_=Object(o.h)().movieId;console.log(_);var w=Object(o.i)(),N=w.url,k=w.path;return console.log(N),console.log(k),console.log(Object(o.i)()),Object(c.useEffect)((function(){p(!0),a.a.fetchMovieDetails(_).then((function(e){return i(e)})).catch((function(e){return j(e)})).finally((function(){return p(!1)}))}),[_]),console.log(n),console.log(u),console.log("/movies/".concat(_,"/cast")==="".concat(N,"/cast")),console.log("".concat(k,"/cast")),console.log("".concat(N,"/cast")),!1===n.success&&i(""),Object(b.jsxs)(b.Fragment,{children:[v&&Object(b.jsx)(d.a,{}),n&&Object(b.jsxs)("div",{className:S.a.container,children:[Object(b.jsx)(x,{title:"Go back",onGoDack:function(){var e,t;m.push(null!==(e=null===y||void 0===y||null===(t=y.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")}}),Object(b.jsx)(O,{movie:n}),Object(b.jsx)(g,{path:k,url:N})]}),!n&&!v&&"No movie description.",Object(b.jsx)("hr",{})]})}},67:function(e,t,n){e.exports={container:"MoviesPage_container__1Gl_Y"}},68:function(e,t,n){e.exports={SearchFormInput:"Searchbar_SearchFormInput__3RgKO",SearchFormButton:"Searchbar_SearchFormButton__XKy5e"}},70:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,"default",(function(){return x}));var a=n(60),i=n(0),s=n(3),l=(n(20),n(67)),u=n.n(l),j=n(18),b=n(2),h=n.n(b),O=n(68),f=n.n(O),d=n(1);function v(e){var t=e.onSubmit,n=Object(i.useState)(""),r=Object(a.a)(n,2),c=r[0],o=r[1];console.log(c);return Object(d.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")},children:[Object(d.jsx)("input",{className:f.a.SearchFormInput,type:"text",name:"search",value:c,autoComplete:"off",onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(d.jsx)("button",{type:"submit",className:f.a.SearchFormButton,children:Object(d.jsx)("span",{className:f.a.SearchFormButtonLabel,children:"Search"})})]})}var p=v;v.prototype={onSubmit:h.a.func.isRequired};var m=n(64),g=n(17);n(65);var x=function(){var e=Object(s.g)();console.log(e.search);var t=new URLSearchParams(e.search).get("query");console.log(t);var n=null!==t?t:"",r=Object(i.useState)(n),c=Object(a.a)(r,2),l=c[0],b=c[1],h=Object(i.useState)([]),O=Object(a.a)(h,2),f=O[0],v=O[1],x=Object(i.useState)(""),y=Object(a.a)(x,2),S=(y[0],y[1]),_=Object(i.useState)(!1),w=Object(a.a)(_,2),N=w[0],k=w[1];console.log(l);var P=Object(s.f)();return console.log(P),Object(i.useEffect)((function(){""!==l||t?(console.log(l),k(!0),j.a.fetchMovies(l).then((function(e){var t=e.results;return v(t)})).catch((function(e){return S(e)})).finally((function(){return k(!1)})),P.push(o(o({},e),{},{search:"query=".concat(l)}))):console.log("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")}),[t,l]),console.log(f),Object(d.jsxs)("div",{className:u.a.container,children:[Object(d.jsx)(p,{onSubmit:function(e){b(e)}}),N&&Object(d.jsx)(g.a,{}),f&&!N&&Object(d.jsx)(m.a,{movies:f})]})}}}]);
//# sourceMappingURL=3.9f024bba.chunk.js.map